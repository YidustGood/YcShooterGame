# YiChenAnimation 模块技术文档

## 1. 概述

`YiChenAnimation` 模块是 `YiChenGameCore` 插件中预留用于处理动画相关逻辑的模块。从当前代码结构来看，该模块主要扮演一个占位符和组织结构的角色，为未来可能的动画系统扩展提供了一个明确的位置。

## 2. 核心功能

截至目前，`YiChenAnimation` 模块未提供任何公开的 C++ 类或函数接口。它的主要作用是：

- **代码组织**: 将所有与动画蓝图、动画通知、自定义 `UAnimInstance` 子类等相关的代码集中存放在一个独立的模块中，保持了整个插件的整洁和高内聚性。
- **未来扩展**: 为将来实现更复杂的动画系统（如程序化动画、IK解算、动作匹配等）奠定了基础。

## 3. 使用指南

由于该模块当前没有公开的功能，因此没有直接的使用指南。开发者可以将项目中的自定义动画实例、动画通知状态（AnimNotifyState）以及其他动画相关的 C++ 类放在此模块中进行统一管理。

## 4. 改进建议

- **1. 创建动画实例基类 (`UYcAnimInstance`)**
  - **建议**: 创建一个通用的 `UYcAnimInstance` 基类。这个基类可以提供一些常用功能，例如：
    - 从 `OwnerActor` 身上安全地获取 `UYcAbilitySystemComponent` 和其他核心组件的引用。
    - 提供一个统一的接口来读取 GameplayTags，并将其映射为动画蓝图可以使用的变量（如 `bIsCrouching`, `bIsAiming`）。
    - 封装常用的计算，如移动速度、方向、加速度等，供动画蓝图直接使用。
  - **好处**: 这将极大地简化动画蓝图的事件图表，减少蓝图中的重复代码，并将角色状态的计算逻辑统一到 C++ 中，提高了性能和可维护性。

- **2. 实现动画通知接口**
  - **建议**: 定义一套标准的 `UAnimNotify` 和 `UAnimNotifyState` 基类，用于触发游戏逻辑事件（如播放脚步声、应用伤害、开关武器碰撞体等）。这些通知可以与 `GameplayMessage` 系统或 `GameplayCue` 系统集成，实现动画与游戏逻辑之间的高效、解耦通信。

- **3. 集成运动匹配 (Motion Matching) 或其他高级动画技术**
  - **建议**: 对于一个现代FPS游戏，流畅的角色动画至关重要。可以考虑在该模块中集成社区现有或自研的高级动画技术，如运动匹配（Motion Matching），以取代传统的、基于状态机的动画系统，从而实现更自然、响应更快的角色移动。
